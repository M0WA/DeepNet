<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>DeepNet: DeepNetTool/src/DeepNetToolBot.cpp Source File</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />

<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">DeepNet
   
   </div>
   <div id="projectbrief">search engine framework and applications</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">DeepNetTool/src/DeepNetToolBot.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d8/d83/DeepNetToolBot_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * DeepNetToolBot.cpp</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *  Created on: 20.03.2012</span>
<a name="l00005"></a>00005 <span class="comment"> *      Author: Moritz Wagner</span>
<a name="l00006"></a>00006 <span class="comment"> */</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="../../da/de4/DeepNetToolBot_8h.html">DeepNetToolBot.h</a>&quot;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;<a class="code" href="../../db/df6/UrlInserter_8h.html">UrlInserter.h</a>&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;<a class="code" href="../../dd/d01/HttpUrl_8h.html">HttpUrl.h</a>&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;<a class="code" href="../../d2/d28/HttpUrlParser_8h.html">HttpUrlParser.h</a>&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;<a class="code" href="../../d2/d0f/IndexerTester_8h.html">IndexerTester.h</a>&gt;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;<a class="code" href="../../db/d82/FileTools_8h.html">FileTools.h</a>&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;<a class="code" href="../../d8/d8a/Exception_8h.html">Exception.h</a>&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;<a class="code" href="../../de/d87/Logging_8h.html">Logging.h</a>&gt;</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;<a class="code" href="../../db/df1/DatabaseRepair_8h.html">DatabaseRepair.h</a>&gt;</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="../../d6/d73/DatabaseLayer_8h.html" title="include this header for database functionality.">DatabaseLayer.h</a>&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/dc2/CommerceSearchTools_8h.html">CommerceSearchTools.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/d8e/DataMiningTools_8h.html">DataMiningTools.h</a>&quot;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="../../d3/d80/UnitTestManager_8h.html">UnitTestManager.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d2f/UnitTestUrl_8h.html">UnitTestUrl.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="../../d6/d44/UnitTestUrlParser_8h.html">UnitTestUrlParser.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="../../dc/d27/UnitTestCacheUrl_8h.html">UnitTestCacheUrl.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="../../d9/d18/UnitTestPCRERegex_8h.html">UnitTestPCRERegex.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="../../da/da4/UnitTestRobotTxt_8h.html">UnitTestRobotTxt.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="../../d1/dde/UnitTestSAX2HtmlParser_8h.html">UnitTestSAX2HtmlParser.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="../../db/d6a/UnitTestHttpClientCURL_8h.html">UnitTestHttpClientCURL.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="../../dd/dde/UnitTestHtmlDocumentFactory_8h.html">UnitTestHtmlDocumentFactory.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="../../d0/d26/UnitTestIndexerEx_8h.html">UnitTestIndexerEx.h</a>&quot;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">namespace </span>toolbot {
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a310a5193d7aa5a6d156778e656515128">00041</a> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a310a5193d7aa5a6d156778e656515128">DeepNetToolBot::DeepNetToolBot</a>()
<a name="l00042"></a>00042 : bot::Bot() {
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a6eafa36c3ae6dc4c26bee0ad24c83dfb">00045</a> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a6eafa36c3ae6dc4c26bee0ad24c83dfb">DeepNetToolBot::~DeepNetToolBot</a>() {
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aafc8c801b3c8069177a782603c5c20c4">00048</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aafc8c801b3c8069177a782603c5c20c4" title="called after bot configuration and initialization has completed.">DeepNetToolBot::OnInit</a>() {
<a name="l00049"></a>00049 
<a name="l00050"></a>00050         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00051"></a>00051 }
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a06091d4ed16d58d65a7d96bad204e7fb">00053</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a06091d4ed16d58d65a7d96bad204e7fb" title="called when all initialization is completed and the applications starts running.">DeepNetToolBot::OnRun</a>() {
<a name="l00054"></a>00054 
<a name="l00055"></a>00055         <span class="keywordtype">bool</span> bSuccess = <span class="keyword">true</span>;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         <span class="comment">//check for requested unit tests</span>
<a name="l00058"></a>00058         bSuccess = <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7496b8f36e4a99e06fe3a74afb37b6e7">ProcessUnitTests</a>();
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         <span class="comment">//repair database after unclean shutdown</span>
<a name="l00061"></a>00061         <span class="keywordtype">bool</span> isRepair = <span class="keyword">false</span>;
<a name="l00062"></a>00062         <span class="keywordflow">if</span>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;databaseRepair&quot;</span>, isRepair) &amp;&amp; isRepair) {
<a name="l00063"></a>00063                 bSuccess = <a class="code" href="../../d1/dda/classbot_1_1DatabaseRepair.html#a66daa118a2dcf8ee15a04d554137a84a" title="validates and fixes all sync tables and checks for inconsistencies">bot::DatabaseRepair::FixUncleanShutdown</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection());
<a name="l00064"></a>00064                 <span class="keywordflow">if</span>(!bSuccess) {
<a name="l00065"></a>00065                         <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#a9f60d39da1b6eb8431467f8214676757" title="log an error.">log::Logging::LogError</a>(<span class="stringliteral">&quot;error while fixing database after unclean shutdown.&quot;</span>);
<a name="l00066"></a>00066                         bSuccess = <span class="keyword">false</span>;
<a name="l00067"></a>00067                 }
<a name="l00068"></a>00068         }
<a name="l00069"></a>00069 
<a name="l00070"></a>00070         <span class="comment">//insert a file of urls into database and schedules them for search engine</span>
<a name="l00071"></a>00071         std::string urlFile;
<a name="l00072"></a>00072         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;urlFile&quot;</span>, urlFile) )     {
<a name="l00073"></a>00073 
<a name="l00074"></a>00074                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ad7e7f55eab00ca54b992cd2efe115cab" title="log a message.">log::Logging::Log</a>(<a class="code" href="../../d4/d4f/classlog_1_1Logging.html#af95f7204c20431b96da9efb6c83bae8ba706ebc16810ac7dde80c8de5033cc228" title="information">log::Logging::LOGLEVEL_INFO</a>,<span class="stringliteral">&quot;inserting urls&quot;</span>);
<a name="l00075"></a>00075                 std::multimap&lt;std::string,std::string&gt; urls;
<a name="l00076"></a>00076                 <a class="code" href="../../d4/d3b/classhtmlparser_1_1UrlInserter.html#a8741ce85471ef24ee57b8627ba63d307">htmlparser::UrlInserter::ReadURLFile</a>(urlFile,urls);
<a name="l00077"></a>00077                 <a class="code" href="../../d4/d3b/classhtmlparser_1_1UrlInserter.html#ac797c5a22ce9b844f77d29c66a8fe78c">htmlparser::UrlInserter::InsertURLFile</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),urls);
<a name="l00078"></a>00078                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ac4483516614f5b007eea201a290ce9a4" title="log an information.">log::Logging::LogInfo</a>(<span class="stringliteral">&quot;inserting urls done&quot;</span>);
<a name="l00079"></a>00079         }
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <span class="comment">//insert an url into database and schedule it for search engine</span>
<a name="l00082"></a>00082         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;insertUrl&quot;</span>, urlFile) ) {
<a name="l00083"></a>00083 
<a name="l00084"></a>00084                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ac4483516614f5b007eea201a290ce9a4" title="log an information.">log::Logging::LogInfo</a>(<span class="stringliteral">&quot;inserting url&quot;</span>);
<a name="l00085"></a>00085                 <a class="code" href="../../d4/d3b/classhtmlparser_1_1UrlInserter.html#ad6478ebda736bd0cfa9b319626f82e50">htmlparser::UrlInserter::InsertURL</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),urlFile,<span class="stringliteral">&quot;&quot;</span>);
<a name="l00086"></a>00086                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ac4483516614f5b007eea201a290ce9a4" title="log an information.">log::Logging::LogInfo</a>(<span class="stringliteral">&quot;inserting url done&quot;</span>);
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="comment">//add commerce search user</span>
<a name="l00090"></a>00090         std::string csUserAdd, csUser = <span class="stringliteral">&quot;&quot;</span>, csPass = <span class="stringliteral">&quot;&quot;</span>, csDomain = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00091"></a>00091         <span class="keywordtype">long</span> <span class="keywordtype">long</span> csRevisitInterval = -1;
<a name="l00092"></a>00092         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;csUserAdd&quot;</span>,csUserAdd) ) {
<a name="l00093"></a>00093                 <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;csUser&quot;</span>, csUser)      &amp;&amp;
<a name="l00094"></a>00094                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;csPass&quot;</span>, csPass)      &amp;&amp;
<a name="l00095"></a>00095                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;csDomain&quot;</span>, csDomain)  &amp;&amp;
<a name="l00096"></a>00096                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;csRevisitInterval&quot;</span>, csRevisitInterval)
<a name="l00097"></a>00097             ) {
<a name="l00098"></a>00098                         <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ac4483516614f5b007eea201a290ce9a4" title="log an information.">log::Logging::LogInfo</a>(<span class="stringliteral">&quot;adding user to commerce search database&quot;</span>);
<a name="l00099"></a>00099 
<a name="l00100"></a>00100                         <span class="keywordflow">if</span>(!<a class="code" href="../../de/d5a/classtoolbot_1_1CommerceSearchTools.html#a82f928d9312f7b0156239370c6c2fe85">CommerceSearchTools::AddCustomer</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),csUser,csPass,csDomain,csRevisitInterval)) {
<a name="l00101"></a>00101                                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#a9f60d39da1b6eb8431467f8214676757" title="log an error.">log::Logging::LogError</a>(<span class="stringliteral">&quot;an error occured while inserting new customer for commerce search, customer was not inserted.&quot;</span>);}
<a name="l00102"></a>00102                         <span class="keywordflow">else</span> {
<a name="l00103"></a>00103                                 <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#ac4483516614f5b007eea201a290ce9a4" title="log an information.">log::Logging::LogInfo</a>(<span class="stringliteral">&quot;new customer for commerce search was inserted successfully&quot;</span>);}
<a name="l00104"></a>00104                 }
<a name="l00105"></a>00105                 <span class="keywordflow">else</span> {
<a name="l00106"></a>00106                         <a class="code" href="../../d4/d4f/classlog_1_1Logging.html#a9f60d39da1b6eb8431467f8214676757" title="log an error.">log::Logging::LogError</a>(<span class="stringliteral">&quot;either csUser, csPass, csDomain or csRevisitInterval parameter is/are missing, exiting...&quot;</span>);
<a name="l00107"></a>00107                 }
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110         <span class="comment">//add datamining request</span>
<a name="l00111"></a>00111         std::string dmAddDataminingAlert;
<a name="l00112"></a>00112         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmAddDataminingAlert&quot;</span>,dmAddDataminingAlert) ) {
<a name="l00113"></a>00113 
<a name="l00114"></a>00114                 std::string dmDataminingCriteria = <span class="stringliteral">&quot;&quot;</span>,
<a name="l00115"></a>00115                         dmDataminingAlertParam   = <span class="stringliteral">&quot;&quot;</span>,
<a name="l00116"></a>00116                         dmDataminingAlertType    = <span class="stringliteral">&quot;&quot;</span>,
<a name="l00117"></a>00117                         dmDataminingUsername     = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119                 <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmDataminingCriteria&quot;</span>  , dmDataminingCriteria) &amp;&amp;
<a name="l00120"></a>00120                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmDataminingUsername&quot;</span>  , dmDataminingUsername) &amp;&amp;
<a name="l00121"></a>00121                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmDataminingAlertType&quot;</span> , dmDataminingAlertType) ) {
<a name="l00122"></a>00122 
<a name="l00123"></a>00123                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#ae6dcf5062c52da8ab4f1eca7d802356e" title="gets parameters by their name as a string.">GetValue</a>(<span class="stringliteral">&quot;dmDataminingAlertParam&quot;</span>, dmDataminingAlertParam);
<a name="l00124"></a>00124                         <a class="code" href="../../de/d72/classtoolbot_1_1DataMiningTools.html#aa05b249f5b9d3666fde396158f43bd6a">DataMiningTools::RegisterDataminingAlert</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),dmDataminingUsername,dmDataminingCriteria,dmDataminingAlertType,dmDataminingAlertParam);
<a name="l00125"></a>00125                 }
<a name="l00126"></a>00126         }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="comment">//add datamining user</span>
<a name="l00129"></a>00129         std::string dmAddDataminingUser;
<a name="l00130"></a>00130         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmAddDataminingUser&quot;</span>,dmAddDataminingUser) ) {
<a name="l00131"></a>00131 
<a name="l00132"></a>00132                 std::string dmDataminingUsername = <span class="stringliteral">&quot;&quot;</span>,
<a name="l00133"></a>00133                                         dmDataminingPassword = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00134"></a>00134 
<a name="l00135"></a>00135                 <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmDataminingUsername&quot;</span>  , dmDataminingUsername) &amp;&amp;
<a name="l00136"></a>00136                         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;dmDataminingPassword&quot;</span>  , dmDataminingPassword) ) {
<a name="l00137"></a>00137 
<a name="l00138"></a>00138                         <a class="code" href="../../de/d72/classtoolbot_1_1DataMiningTools.html#ae77547569c4e1f49a72b2cf753b424e3">DataMiningTools::InsertDataminingUser</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),dmDataminingUsername,dmDataminingPassword);
<a name="l00139"></a>00139                 }
<a name="l00140"></a>00140         }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#ae4d10d6f8e73ae1e6572c2b4f45ecca8" title="true if application shall end.">shutdownReceived</a> = <span class="keyword">true</span>;
<a name="l00143"></a>00143         <span class="keywordflow">return</span> bSuccess;
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aab36e024caa360384609340efe2768e5">00146</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aab36e024caa360384609340efe2768e5" title="called before the application is shutting down.">DeepNetToolBot::OnShutdown</a>() {
<a name="l00147"></a>00147         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().<a class="code" href="../../dc/d55/classdatabase_1_1DatabaseHelper.html#a94161953fb93c6a2b1604836c373fc03" title="destroys current database connection.">DestroyConnection</a>();
<a name="l00148"></a>00148         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00151"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a5cfd1b39a2412c491087b782ea922c6b">00151</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a5cfd1b39a2412c491087b782ea922c6b" title="called after registration of default parameters and before initialization.">DeepNetToolBot::OnPreInit</a>() {
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a86ef9ab13e9b9a41ddb234dc41452dff">RegisterDatabaseRepairParams</a>();
<a name="l00154"></a>00154         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a17106547e45fc2705b95390549b69e90">RegisterCommerceSearchParams</a>();
<a name="l00155"></a>00155         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac48c92a732bdee098a7d613171928601">RegisterDataminingParams</a>();
<a name="l00156"></a>00156         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7673855d7d74fdf4948820bc1334f364">RegisterUrlInserterParams</a>();
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <span class="comment">//unit tests</span>
<a name="l00159"></a>00159         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a9df03a442e46c750eeec3061c46b183d">RegisterHtmlTestParams</a>();
<a name="l00160"></a>00160         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a0d6259f7d155c8baad1139df7b1250b2">RegisterPCRERegexTestParams</a>();
<a name="l00161"></a>00161         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aed52c5ad54e9569b829783b8036f59ed">RegisterRobotTxtParams</a>();
<a name="l00162"></a>00162         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab75782442e1d490306563ea5b427e439">RegisterHtmlClientCURLParams</a>();
<a name="l00163"></a>00163         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab60c13115eff2c3b7577e8086e59ce0f">RegisterHtmlDocumentFactoryParams</a>();
<a name="l00164"></a>00164         <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac809b5b025dfd92a3ea1d09fe0087a76">RegisterIndexerExParams</a>();
<a name="l00165"></a>00165 
<a name="l00166"></a>00166         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00167"></a>00167 }
<a name="l00168"></a>00168 
<a name="l00169"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a86ef9ab13e9b9a41ddb234dc41452dff">00169</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a86ef9ab13e9b9a41ddb234dc41452dff">DeepNetToolBot::RegisterDatabaseRepairParams</a>() {
<a name="l00170"></a>00170         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#ab6755c1aaf1208fa29653c3e8e64b327" title="registers a new flag.">RegisterFlag</a>(<span class="stringliteral">&quot;databaseRepair&quot;</span>, <span class="stringliteral">&quot;repairs database after unclean shutdown&quot;</span>, <span class="keyword">false</span>);
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a9df03a442e46c750eeec3061c46b183d">00173</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a9df03a442e46c750eeec3061c46b183d">DeepNetToolBot::RegisterHtmlTestParams</a>() {
<a name="l00174"></a>00174         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;htmlFile&quot;</span>, <span class="stringliteral">&quot;filename of html file to parse/check&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00175"></a>00175         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;htmlUnitTestPath&quot;</span>, <span class="stringliteral">&quot;path to unit test html files&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7673855d7d74fdf4948820bc1334f364">00178</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7673855d7d74fdf4948820bc1334f364">DeepNetToolBot::RegisterUrlInserterParams</a>() {
<a name="l00179"></a>00179         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;urlFile&quot;</span>, <span class="stringliteral">&quot;insert urls from file into database&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00180"></a>00180         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;insertUrl&quot;</span>, <span class="stringliteral">&quot;domain to insert ie. dummy.siridia.de&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;urlValidateFile&quot;</span>, <span class="stringliteral">&quot;validates urls from file&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00183"></a>00183         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;urlInvalidateFile&quot;</span>, <span class="stringliteral">&quot;validates invalid urls from file&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00184"></a>00184 }
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a17106547e45fc2705b95390549b69e90">00186</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a17106547e45fc2705b95390549b69e90">DeepNetToolBot::RegisterCommerceSearchParams</a>() {
<a name="l00187"></a>00187         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;csUserAdd&quot;</span>, <span class="stringliteral">&quot;add commerce search user to database&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00188"></a>00188         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;csUser&quot;</span>, <span class="stringliteral">&quot;username of commerce search user&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00189"></a>00189         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;csPass&quot;</span>, <span class="stringliteral">&quot;password of commerce search user&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00190"></a>00190         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;csDomain&quot;</span>, <span class="stringliteral">&quot;domain of commerce search user&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00191"></a>00191         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;csRevisitInterval&quot;</span>, <span class="stringliteral">&quot;crawler revisit interval of commerce search user (in minutes)&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00192"></a>00192 }
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac48c92a732bdee098a7d613171928601">00194</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac48c92a732bdee098a7d613171928601">DeepNetToolBot::RegisterDataminingParams</a>() {
<a name="l00195"></a>00195         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmAddDataminingUser&quot;</span>, <span class="stringliteral">&quot;add datamining user to database&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00196"></a>00196         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmAddDataminingAlert&quot;</span>, <span class="stringliteral">&quot;add datamining alert to database&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00197"></a>00197         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmDataminingUsername&quot;</span>, <span class="stringliteral">&quot;datamining username&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00198"></a>00198         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmDataminingPassword&quot;</span>, <span class="stringliteral">&quot;datamining password&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00199"></a>00199         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmDataminingCriteria&quot;</span>, <span class="stringliteral">&quot;regex for datamining criteria&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00200"></a>00200         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmDataminingAlertType&quot;</span>, <span class="stringliteral">&quot;type of alert, one of: email&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00201"></a>00201         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;dmDataminingAlertParam&quot;</span>, <span class="stringliteral">&quot;parameters for alert types&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a0d6259f7d155c8baad1139df7b1250b2">00204</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a0d6259f7d155c8baad1139df7b1250b2">DeepNetToolBot::RegisterPCRERegexTestParams</a>() {
<a name="l00205"></a>00205         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;pcreRegexFile&quot;</span>, <span class="stringliteral">&quot;validates pcre regexes from file&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00206"></a>00206 }
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aed52c5ad54e9569b829783b8036f59ed">00208</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#aed52c5ad54e9569b829783b8036f59ed">DeepNetToolBot::RegisterRobotTxtParams</a>() {
<a name="l00209"></a>00209         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;robotsTxtFile&quot;</span>, <span class="stringliteral">&quot;validates robots.txt from file&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab75782442e1d490306563ea5b427e439">00212</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab75782442e1d490306563ea5b427e439">DeepNetToolBot::RegisterHtmlClientCURLParams</a>() {
<a name="l00213"></a>00213         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;curlGetFile&quot;</span>, <span class="stringliteral">&quot;filename of urls to \&quot;GET\&quot; via cURL-based client&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00214"></a>00214         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;curlPostFile&quot;</span>, <span class="stringliteral">&quot;filename of urls to \&quot;POST\&quot; via cURL-based client&quot;</span>, <span class="keyword">false</span>, 0 );
<a name="l00215"></a>00215 }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab60c13115eff2c3b7577e8086e59ce0f">00217</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ab60c13115eff2c3b7577e8086e59ce0f">DeepNetToolBot::RegisterHtmlDocumentFactoryParams</a>() {
<a name="l00218"></a>00218         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;domParserUnitTestPath&quot;</span>, <span class="stringliteral">&quot;path to unit test html files for DOM parser&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00219"></a>00219 }
<a name="l00220"></a>00220 
<a name="l00221"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac809b5b025dfd92a3ea1d09fe0087a76">00221</a> <span class="keywordtype">void</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#ac809b5b025dfd92a3ea1d09fe0087a76">DeepNetToolBot::RegisterIndexerExParams</a>() {
<a name="l00222"></a>00222         <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#a9c1e0b31b7a87fa7f0d2cb64c4cf0490" title="registers a new parameter.">RegisterParam</a>(<span class="stringliteral">&quot;indexerExUnitTestPath&quot;</span>, <span class="stringliteral">&quot;path to unit test text and dictionary xml files for indexer&quot;</span>, <span class="keyword">false</span>, 0);
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7496b8f36e4a99e06fe3a74afb37b6e7">00225</a> <span class="keywordtype">bool</span> <a class="code" href="../../df/da5/classtoolbot_1_1DeepNetToolBot.html#a7496b8f36e4a99e06fe3a74afb37b6e7">DeepNetToolBot::ProcessUnitTests</a>() {
<a name="l00226"></a>00226 
<a name="l00227"></a>00227         <span class="keywordtype">bool</span> bSuccess = <span class="keyword">true</span>;
<a name="l00228"></a>00228         <a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html">UnitTestManager</a> unitTests;
<a name="l00229"></a>00229 
<a name="l00230"></a>00230         <span class="comment">//initiate url based unit tests</span>
<a name="l00231"></a>00231         std::string urlFile;
<a name="l00232"></a>00232         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;urlValidateFile&quot;</span>, urlFile) ) {
<a name="l00233"></a>00233                 std::string invalidUrlFileName;
<a name="l00234"></a>00234                 <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#ae6dcf5062c52da8ab4f1eca7d802356e" title="gets parameters by their name as a string.">GetValue</a>(<span class="stringliteral">&quot;urlInvalidateFile&quot;</span>, invalidUrlFileName);
<a name="l00235"></a>00235                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../dd/d3d/classtoolbot_1_1UnitTestUrlParser.html">UnitTestUrlParser</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),urlFile,invalidUrlFileName));
<a name="l00236"></a>00236                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../d7/da0/classtoolbot_1_1UnitTestCacheUrl.html">UnitTestCacheUrl</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),urlFile)); }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238         <span class="comment">//initiate pcre regex unit test</span>
<a name="l00239"></a>00239         std::string pcreRegexFile;
<a name="l00240"></a>00240         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;pcreRegexFile&quot;</span>,pcreRegexFile) ){
<a name="l00241"></a>00241                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../d3/da1/classtoolbot_1_1UnitTestPCRERegex.html">UnitTestPCRERegex</a>(pcreRegexFile)); }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243         <span class="comment">//initiate robots.txt unit test</span>
<a name="l00244"></a>00244         std::string robotsTxtFile;
<a name="l00245"></a>00245         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;robotsTxtFile&quot;</span>,robotsTxtFile) ){
<a name="l00246"></a>00246                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../df/d32/classtoolbot_1_1UnitTestRobotTxt.html">UnitTestRobotTxt</a>(robotsTxtFile)); }
<a name="l00247"></a>00247 
<a name="l00248"></a>00248         <span class="comment">//initiate html parser based unit tests</span>
<a name="l00249"></a>00249         std::string htmlUnitTestPath;
<a name="l00250"></a>00250         <span class="keywordflow">if</span>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;htmlUnitTestPath&quot;</span>,htmlUnitTestPath)) {
<a name="l00251"></a>00251                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../d0/d76/classtoolbot_1_1UnitTestSAX2HtmlParser.html">toolbot::UnitTestSAX2HtmlParser</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),htmlUnitTestPath)); }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253         <span class="comment">//initiate http client CURL based unit tests</span>
<a name="l00254"></a>00254         std::string curlGetFile,curlPostFile;
<a name="l00255"></a>00255         <span class="keywordtype">bool</span> isHttpCurlTest = <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#ae6dcf5062c52da8ab4f1eca7d802356e" title="gets parameters by their name as a string.">GetValue</a>(<span class="stringliteral">&quot;curlGetFile&quot;</span>,curlGetFile);
<a name="l00256"></a>00256         isHttpCurlTest |= <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().<a class="code" href="../../d4/d58/classbot_1_1ConfigManager.html#ae6dcf5062c52da8ab4f1eca7d802356e" title="gets parameters by their name as a string.">GetValue</a>(<span class="stringliteral">&quot;curlPostFile&quot;</span>,curlPostFile);
<a name="l00257"></a>00257         <span class="keywordflow">if</span>(isHttpCurlTest){
<a name="l00258"></a>00258                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../d0/d59/classtoolbot_1_1UnitTestHttpClientCURL.html">toolbot::UnitTestHttpClientCURL</a>(curlGetFile,curlPostFile)); }
<a name="l00259"></a>00259 
<a name="l00260"></a>00260         <span class="comment">//initiate html parser based unit tests</span>
<a name="l00261"></a>00261         std::string domParserUnitTestPath,domParserUnitTestFile;
<a name="l00262"></a>00262         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;domParserUnitTestPath&quot;</span>,domParserUnitTestPath) &amp;&amp; !domParserUnitTestPath.empty()) {
<a name="l00263"></a>00263                 <span class="comment">//used for html parsed as base url</span>
<a name="l00264"></a>00264                 <a class="code" href="../../d8/dae/classnetwork_1_1HttpUrl.html">network::HttpUrl</a> httpUrl;
<a name="l00265"></a>00265                 <span class="keywordtype">bool</span> successParse = <span class="keyword">true</span>;
<a name="l00266"></a>00266                 <span class="keywordflow">try</span> {
<a name="l00267"></a>00267                         <a class="code" href="../../d5/dc6/classnetwork_1_1HttpUrlParser.html#a1be41c43f8ac30cd28d2b316e52d3acb" title="parses url from string and base url">network::HttpUrlParser::ParseURL</a>(<span class="stringliteral">&quot;siridia.de&quot;</span>,httpUrl); }
<a name="l00268"></a>00268                 <span class="keywordflow">catch</span>(<a class="code" href="../../d5/dc5/classerrors_1_1Exception.html" title="generic wrapper class for exceptions.">errors::Exception</a>&amp; e) {
<a name="l00269"></a>00269                         successParse = <span class="keyword">false</span>; }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271                 <span class="keywordflow">if</span>(successParse)
<a name="l00272"></a>00272                         unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../d7/dd4/classtoolbot_1_1UnitTestHtmlDocumentFactory.html">toolbot::UnitTestHtmlDocumentFactory</a>(httpUrl,domParserUnitTestPath));
<a name="l00273"></a>00273                 <span class="keywordflow">else</span>
<a name="l00274"></a>00274                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         <span class="comment">//initiate indexer based unit tests</span>
<a name="l00278"></a>00278         std::string indexerExUnitTestPath;
<a name="l00279"></a>00279         <span class="keywordflow">if</span>( <a class="code" href="../../d0/da1/classbot_1_1Bot.html#a1433f67db1a1ad6985fa5db9d5109add" title="gets the configuration of this bot::Bot.">Config</a>().GetValue(<span class="stringliteral">&quot;indexerExUnitTestPath&quot;</span>,indexerExUnitTestPath) &amp;&amp; !indexerExUnitTestPath.empty() ) {
<a name="l00280"></a>00280                 unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#a57c141bf3cbd67320e8ac6903fda7a59">AddUnitTest</a>(<span class="keyword">new</span> <a class="code" href="../../df/d0a/classtoolbot_1_1UnitTestIndexerEx.html">toolbot::UnitTestIndexerEx</a>(<a class="code" href="../../d0/da1/classbot_1_1Bot.html#a2a5bf56aebb33a5092070b806fdcb309" title="gets the database of this bot::Bot.">DB</a>().Connection(),indexerExUnitTestPath)); }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282         <span class="comment">//finally run all previously registered unit tests</span>
<a name="l00283"></a>00283         bSuccess &amp;= unitTests.<a class="code" href="../../dd/dcd/classtoolbot_1_1UnitTestManager.html#af3ce64271886d46ee1c0e1ef34cac65d">Run</a>();
<a name="l00284"></a>00284         <span class="keywordflow">return</span> bSuccess;
<a name="l00285"></a>00285 }
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 }
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 3 2013 23:43:22 for DeepNet by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
